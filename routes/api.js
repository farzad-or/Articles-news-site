const express = require('express');
const User = require('../model/user')
const bcrypt = require('bcrypt')
const saltRounds = 13;
const router = express.Router();




///////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////session check/////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////// GET SIGNUP PAGE    ///////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////
console.log("bye up");


router.get("/signUp",(req, res) => {
  console.log(1);
  res.render("pages/signUp")
})

///////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////  GET SIGNIN PAGE    ///////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


router.get("/signIn", (req, res) => {
    res.render("pages/signIn")
  })
  
///////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////  POST TO SIGNUP USER   ///////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


router.post('/signUp', async function (req, res) {
console.log(req.body);
})
//   try {
//     console.log(req.body);
//     if (!req.body.userName || !req.body.password || !req.body.firstName || !req.body.lastName || !req.body.email || !req.body.gender || !req.body.phones) {
//       throw new Error('You have an empty input.')
//     };
//     if (req.body.password.length < 8) {
//       throw new Error('password error')
//     };
//     req.body.password = await bcrypt.hash(req.body.password, saltRounds);
//     const newUser = new User({
//       userName: req.body.userName,
//       firstName: req.body.firstName,
//       lastName: req.body.lastName,
//       password: req.body.password,
//       email: req.body.email,
//       phones: req.body.phones,
//       gender: req.body.gender
//     })

//     let user = await newUser.save()
//     if (user) {
//       res.json(user)
//     } else {
//       throw new Error("something Wrong")
//     }
//   } catch (error) {
//     res.send(error.message)
//   }
// });

///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////// POST TO SIGNIN USER  ////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////setting up log out requests///////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////setting up log out requests///////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////// forget password end point ////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////// search end point ///////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////// search end point ///////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////// change language end point //////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////



module.exports = router;